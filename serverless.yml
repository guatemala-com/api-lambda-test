service: aprende-headless-api

frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs20.x
  stage: dev
  region: us-west-2

# Esta sección ahora es más simple y correcta.
# Serverless incluirá automáticamente tu código compilado y las dependencias de producción.
package:
  individually: true

functions:
  main:
    # Asegúrate de que el handler apunta a la carpeta de compilación 'dist'
    handler: dist/lambda.handler 
    events:
      - httpApi:
          path: /{proxy+}
          method: '*'